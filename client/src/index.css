@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(248 20% 98%);
  --foreground: hsl(215 25% 7%);
  --card: hsl(0 0% 100%);
  --card-foreground: hsl(215 25% 7%);
  --popover: hsl(0 0% 100%);
  --popover-foreground: hsl(215 25% 7%);
  --primary: hsl(217 89% 53%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(215 20% 46%);
  --secondary-foreground: hsl(0 0% 100%);
  --muted: hsl(210 40% 96%);
  --muted-foreground: hsl(215 16% 47%);
  --accent: hsl(159 100% 36%);
  --accent-foreground: hsl(0 0% 100%);
  --destructive: hsl(0 84% 60%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(214 32% 91%);
  --input: hsl(214 32% 91%);
  --ring: hsl(217 89% 53%);
  --chart-1: hsl(217 89% 53%);
  --chart-2: hsl(159 100% 36%);
  --chart-3: hsl(45 93% 56%);
  --chart-4: hsl(147 79% 42%);
  --chart-5: hsl(341 75% 51%);
  --sidebar: hsl(0 0% 100%);
  --sidebar-foreground: hsl(215 25% 7%);
  --sidebar-primary: hsl(217 89% 53%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(217 52% 93%);
  --sidebar-accent-foreground: hsl(217 89% 53%);
  --sidebar-border: hsl(214 32% 91%);
  --sidebar-ring: hsl(217 89% 53%);
  --font-sans: Inter, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --radius: 0.5rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 1px 2px -1px hsl(217 89% 53% / 0.00);
  --shadow: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 1px 2px -1px hsl(217 89% 53% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 2px 4px -1px hsl(217 89% 53% / 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 4px 6px -1px hsl(217 89% 53% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 8px 10px -1px hsl(217 89% 53% / 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
  --tracking-normal: 0em;
  --spacing: 0.25rem;
}

.dark {
  --background: hsl(225 17% 6%);
  --foreground: hsl(210 40% 98%);
  --card: hsl(222 84% 5%);
  --card-foreground: hsl(210 40% 98%);
  --popover: hsl(222 84% 5%);
  --popover-foreground: hsl(210 40% 98%);
  --primary: hsl(217 89% 53%);
  --primary-foreground: hsl(0 0% 100%);
  --secondary: hsl(217 32% 17%);
  --secondary-foreground: hsl(210 40% 98%);
  --muted: hsl(217 32% 17%);
  --muted-foreground: hsl(215 20% 65%);
  --accent: hsl(159 100% 36%);
  --accent-foreground: hsl(0 0% 100%);
  --destructive: hsl(0 84% 60%);
  --destructive-foreground: hsl(0 0% 100%);
  --border: hsl(217 32% 17%);
  --input: hsl(217 32% 17%);
  --ring: hsl(217 89% 53%);
  --chart-1: hsl(217 89% 53%);
  --chart-2: hsl(159 100% 36%);
  --chart-3: hsl(45 93% 56%);
  --chart-4: hsl(147 79% 42%);
  --chart-5: hsl(341 75% 51%);
  --sidebar: hsl(222 84% 5%);
  --sidebar-foreground: hsl(210 40% 98%);
  --sidebar-primary: hsl(217 89% 53%);
  --sidebar-primary-foreground: hsl(0 0% 100%);
  --sidebar-accent: hsl(217 32% 17%);
  --sidebar-accent-foreground: hsl(217 89% 53%);
  --sidebar-border: hsl(217 32% 17%);
  --sidebar-ring: hsl(217 89% 53%);
  --font-sans: Inter, sans-serif;
  --font-serif: Georgia, serif;
  --font-mono: Menlo, monospace;
  --radius: 0.5rem;
  --shadow-2xs: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
  --shadow-xs: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
  --shadow-sm: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 1px 2px -1px hsl(217 89% 53% / 0.00);
  --shadow: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 1px 2px -1px hsl(217 89% 53% / 0.00);
  --shadow-md: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 2px 4px -1px hsl(217 89% 53% / 0.00);
  --shadow-lg: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 4px 6px -1px hsl(217 89% 53% / 0.00);
  --shadow-xl: 0px 2px 0px 0px hsl(217 89% 53% / 0.00), 0px 8px 10px -1px hsl(217 89% 53% / 0.00);
  --shadow-2xl: 0px 2px 0px 0px hsl(217 89% 53% / 0.00);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: var(--font-sans);
  }

  .safe-area-pb {
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@layer utilities {
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
  
  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  /* Match Colab Brand Colors - Matching Design Reference */
  .text-primary {
    color: hsl(217 89% 53%); /* #2563EB */
  }

  .bg-primary {
    background-color: hsl(217 89% 53%); /* #2563EB */
  }

  .text-secondary {
    color: hsl(215 20% 46%); /* #64748B */
  }

  .bg-secondary {
    background-color: hsl(215 20% 46%); /* #64748B */
  }

  .text-accent {
    color: hsl(159 100% 36%); /* #10B981 */
  }

  .bg-accent {
    background-color: hsl(159 100% 36%); /* #10B981 */
  }

  .bg-background {
    background-color: hsl(248 20% 98%); /* #F8FAFC */
  }

  /* Dark background for dark mode */
  .bg-dark-bg {
    background-color: hsl(225 17% 6%); /* #0F172A */
  }

  /* Gradient utilities for brand consistency - matching design */
  .gradient-primary-accent {
    background: linear-gradient(to right, hsl(217 89% 53%), hsl(159 100% 36%));
  }

  .gradient-purple-pink {
    background: linear-gradient(to right, hsl(271 81% 56%), hsl(327 73% 64%));
  }

  .gradient-green-blue {
    background: linear-gradient(to right, hsl(159 100% 36%), hsl(217 89% 53%));
  }

  .gradient-orange-red {
    background: linear-gradient(to right, hsl(25 95% 53%), hsl(0 84% 60%));
  }

  /* Animation for pulse indicators - real-time features */
  .pulse-accent {
    animation: pulse-accent 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
  }

  @keyframes pulse-accent {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: .5;
    }
  }

  /* Hover states for interactive elements */
  .hover-lift {
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
  }

  .hover-lift:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.15); /* Primary color shadow */
  }

  /* Custom scrollbar styling */
  .custom-scrollbar {
    scrollbar-width: thin;
    scrollbar-color: hsl(217 89% 53% / 0.3) transparent;
  }

  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: transparent;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background-color: hsl(217 89% 53% / 0.3);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background-color: hsl(217 89% 53% / 0.5);
  }

  /* Status indicators for community features */
  .status-online {
    @apply w-2 h-2 bg-accent rounded-full animate-pulse;
  }

  .status-verified {
    @apply inline-flex items-center space-x-1 text-accent text-xs;
  }

  /* Trust and safety indicators */
  .trust-badge {
    background: linear-gradient(135deg, hsl(159 100% 36%), hsl(159 100% 46%));
    @apply text-white text-xs px-2 py-1 rounded-full font-medium;
  }

  .verification-badge {
    background: linear-gradient(135deg, hsl(217 89% 53%), hsl(217 89% 63%));
    @apply text-white text-xs px-2 py-1 rounded-full font-medium;
  }
}

/* Component-specific styling */
@layer components {
  /* Card hover effects for community engagement */
  .card-hover {
    @apply transition-all duration-200 ease-in-out;
  }

  .card-hover:hover {
    @apply shadow-md transform translate-y-[-1px];
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
  }

  /* Button gradient styles matching design */
  .btn-gradient-primary {
    @apply bg-gradient-to-r from-primary to-accent text-white font-medium transition-all duration-200;
  }

  .btn-gradient-primary:hover {
    @apply shadow-lg transform translate-y-[-1px];
    box-shadow: 0 6px 20px rgba(37, 99, 235, 0.25);
  }

  /* Navigation active states */
  .nav-active {
    @apply text-primary bg-blue-50 border-l-4 border-primary;
  }

  .nav-inactive {
    @apply text-secondary hover:text-slate-800 hover:bg-slate-50;
  }

  /* Response and comment cards */
  .response-card {
    @apply bg-white border border-slate-200 rounded-lg hover:shadow-md transition-all duration-200;
  }

  .response-card:hover {
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.08);
  }

  /* Introduction request styling */
  .intro-card {
    @apply bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg;
  }

  /* Group cards with branded gradients */
  .group-card-purple-pink {
    background: linear-gradient(135deg, hsl(271 81% 56%), hsl(327 73% 64%));
  }

  .group-card-green-blue {
    background: linear-gradient(135deg, hsl(159 100% 36%), hsl(217 89% 53%));
  }

  .group-card-orange-red {
    background: linear-gradient(135deg, hsl(25 95% 53%), hsl(0 84% 60%));
  }

  /* Real-time notification badges */
  .notification-badge {
    @apply absolute -top-1 -right-1 w-5 h-5 bg-primary text-white text-xs rounded-full flex items-center justify-center font-medium;
    animation: notification-pulse 2s infinite;
  }

  @keyframes notification-pulse {
    0%, 100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }

  /* Community stats styling */
  .stat-card {
    @apply bg-white rounded-lg p-4 text-center border border-slate-200 hover:shadow-md transition-all duration-200;
  }

  .stat-number {
    @apply text-2xl font-bold mb-1;
  }

  .stat-number.primary {
    @apply text-primary;
  }

  .stat-number.accent {
    @apply text-accent;
  }

  .stat-label {
    @apply text-sm text-secondary;
  }

  /* Mobile-specific adjustments */
  @media (max-width: 768px) {
    .mobile-padding {
      @apply px-4 py-3;
    }

    .mobile-text {
      @apply text-sm;
    }

    .mobile-card {
      @apply mx-4 mb-4;
    }

    /* Mobile bottom nav safe area */
    .mobile-bottom-nav {
      @apply pb-safe-area;
    }
  }

  /* Loading states with brand colors */
  .loading-skeleton {
    @apply animate-pulse bg-slate-200 rounded;
  }

  .loading-spinner {
    @apply animate-spin border-4 border-slate-200 border-t-primary rounded-full;
  }

  /* Form styling for community interactions */
  .community-form-input {
    @apply w-full p-3 border border-slate-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-transparent transition-all duration-200;
  }

  .community-form-input:focus {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
  }

  /* Avatar styling with trust indicators */
  .avatar-verified {
    @apply relative;
  }

  .avatar-verified::after {
    content: '';
    @apply absolute -bottom-1 -right-1 w-4 h-4 bg-accent rounded-full border-2 border-white;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='white' viewBox='0 0 24 24'%3E%3Cpath d='M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z'/%3E%3C/svg%3E");
    background-size: 10px;
    background-repeat: no-repeat;
    background-position: center;
  }

  /* Premium upgrade card styling */
  .premium-card {
    @apply bg-gradient-to-r from-primary to-accent p-4 rounded-lg text-white text-sm;
  }

  .premium-button {
    @apply w-full bg-white text-primary font-medium py-2 px-4 rounded-lg hover:bg-blue-50 transition-colors;
  }

  /* Daily prompt styling */
  .daily-prompt {
    @apply bg-white border-b border-slate-200 p-4 lg:p-6;
  }

  .prompt-icon {
    @apply w-12 h-12 bg-gradient-to-r from-primary to-accent rounded-full flex items-center justify-center;
  }

  /* Response interaction buttons */
  .interaction-button {
    @apply flex items-center space-x-1 text-sm transition-colors duration-200;
  }

  .interaction-button.liked {
    @apply text-red-500;
  }

  .interaction-button.unliked {
    @apply text-secondary hover:text-red-500;
  }

  /* Group discovery cards */
  .group-discovery-card {
    @apply bg-slate-50 rounded-lg p-4 hover:shadow-md transition-all cursor-pointer;
  }

  .group-discovery-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(37, 99, 235, 0.1);
  }

  /* Introduction modal styling */
  .introduction-modal {
    @apply max-w-md w-full bg-white rounded-lg p-6;
  }

  /* Status badges with proper colors */
  .status-badge-pending {
    @apply bg-yellow-100 text-yellow-800 border-yellow-200;
  }

  .status-badge-accepted {
    @apply bg-green-100 text-green-800 border-green-200;
  }

  .status-badge-declined {
    @apply bg-red-100 text-red-800 border-red-200;
  }

  .status-badge-completed {
    @apply bg-blue-100 text-blue-800 border-blue-200;
  }
}

/* Typography adjustments for Inter font */
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-sans);
  font-weight: 600;
  line-height: 1.2;
}

.font-inter {
  font-family: var(--font-sans);
}

/* Ensure proper antialiasing */
* {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Focus styles for accessibility */
.focus-visible:focus-visible {
  outline: 2px solid hsl(217 89% 53%);
  outline-offset: 2px;
}

/* High contrast mode support */
@media (prefers-contrast: high) {
  :root {
    --primary: hsl(217 100% 45%);
    --accent: hsl(159 100% 30%);
    --border: hsl(214 32% 80%);
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}
